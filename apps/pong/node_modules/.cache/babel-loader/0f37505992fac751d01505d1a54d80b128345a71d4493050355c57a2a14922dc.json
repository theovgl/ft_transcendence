{"ast":null,"code":"var _jsxFileName = \"/home/mtogbe/ft_transcendence/apps/pong/src/components/Collectible.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport collectibleImg from '../img/Collectible.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Collectible = props => {\n  _s();\n  const [position, setPosition] = useState({\n    x: props.gameBounds.width / 2,\n    y: props.gameBounds.height / 2\n  });\n  const [percentagePos, setPercentagePos] = useState({\n    x: position.x / props.gameBounds.width * 100,\n    y: position.y / props.gameBounds.height * 100\n  });\n  const [bounds, setBounds] = useState({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  });\n  const [gamebounds, setGameBounds] = useState({\n    x: props.gameBounds.x,\n    y: props.gameBounds.y,\n    width: props.gameBounds.width,\n    height: props.gameBounds.height\n  });\n  const [activated, setActivated] = useState(\"false\");\n  const collectibleRef = useRef(null);\n\n  // Resize Hitboxes\n  useEffect(() => {\n    const calculateHitBox = () => {\n      if (collectibleRef.current) {\n        const {\n          left,\n          top,\n          width,\n          height\n        } = collectibleRef.current.getBoundingClientRect();\n        setBounds({\n          x: left,\n          y: top,\n          width: width,\n          height: height\n        });\n      }\n      setPosition({\n        x: percentagePos.x / 100 * props.gameBounds.width,\n        y: percentagePos.y / 100 * props.gameBounds.height\n      });\n      const {\n        x,\n        y,\n        width,\n        height\n      } = props.gameBounds;\n      setGameBounds({\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      });\n    };\n    if (JSON.stringify(props.gameBounds) !== JSON.stringify(gamebounds)) calculateHitBox();\n  }, [collectibleRef, percentagePos.x, percentagePos.y, props.gameBounds, gamebounds]);\n\n  // Collectible spawn\n  props.socket.on('collectible-spawn', pos => {\n    setPercentagePos({\n      x: pos.x,\n      y: pos.y\n    });\n    setActivated(true);\n  });\n  props.socket.on('collectible-touched', () => {\n    setActivated(true);\n  });\n\n  // Set Responsive position\n  useEffect(() => {\n    setPercentagePos({\n      x: position.x / gamebounds.width * 100,\n      y: position.y / gamebounds.height * 100\n    });\n  }, [position.x, position.y, gamebounds.width, gamebounds.height]);\n  return /*#__PURE__*/_jsxDEV(CollectibleDiv, {\n    ref: collectibleRef,\n    x: percentagePos.x,\n    y: percentagePos.y,\n    children: /*#__PURE__*/_jsxDEV(CollectibleDivImg, {\n      src: collectibleImg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(Collectible, \"53CzgIGTSkpOG8k3tQCCGyCzG00=\");\n_c = Collectible;\nconst CollectibleDivImg = styled.img`\nwidth: 100%;\nheight: 100%;\n`;\n_c2 = CollectibleDivImg;\nconst CollectibleDiv = styled.div.attrs(props => ({\n  style: {\n    width: `4%`,\n    height: `5%`,\n    left: `${props.x}%`,\n    top: `${props.y}%`\n  }\n}))`\n    position: absolute;\n    `;\n_c3 = CollectibleDiv;\nexport default Collectible;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Collectible\");\n$RefreshReg$(_c2, \"CollectibleDivImg\");\n$RefreshReg$(_c3, \"CollectibleDiv\");","map":{"version":3,"names":["React","useEffect","useState","useRef","styled","collectibleImg","jsxDEV","_jsxDEV","Collectible","props","_s","position","setPosition","x","gameBounds","width","y","height","percentagePos","setPercentagePos","bounds","setBounds","gamebounds","setGameBounds","activated","setActivated","collectibleRef","calculateHitBox","current","left","top","getBoundingClientRect","JSON","stringify","socket","on","pos","CollectibleDiv","ref","children","CollectibleDivImg","src","fileName","_jsxFileName","lineNumber","columnNumber","_c","img","_c2","div","attrs","style","_c3","$RefreshReg$"],"sources":["/home/mtogbe/ft_transcendence/apps/pong/src/components/Collectible.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport collectibleImg from '../img/Collectible.png'\r\n\r\nconst Collectible = (props) => {\r\n    const [position, setPosition] = useState({\r\n        x: props.gameBounds.width / 2,\r\n        y: props.gameBounds.height / 2\r\n      });\r\n    const [percentagePos, setPercentagePos] = useState({\r\n        x: (position.x / props.gameBounds.width) * 100,\r\n        y: (position.y / props.gameBounds.height) * 100\r\n    })\r\n    const [bounds, setBounds] = useState({x: 0, y:0, width: 0, height: 0});\r\n    const [gamebounds, setGameBounds] = useState({\r\n      x: props.gameBounds.x,\r\n      y: props.gameBounds.y,\r\n      width: props.gameBounds.width,\r\n      height: props.gameBounds.height\r\n    })\r\n    const [activated, setActivated] = useState(\"false\");\r\n    const collectibleRef = useRef(null);\r\n\r\n    \r\n    // Resize Hitboxes\r\n    useEffect(() => {\r\n      const calculateHitBox = () => {\r\n        if (collectibleRef.current)\r\n        {\r\n          const { left, top, width, height } = collectibleRef.current.getBoundingClientRect();\r\n          setBounds({ x: left, y: top, width: width, height: height });\r\n        }\r\n        setPosition({\r\n          x : (percentagePos.x / 100) * props.gameBounds.width,\r\n          y : (percentagePos.y / 100) * props.gameBounds.height\r\n        })\r\n        const { x, y, width, height } = props.gameBounds;\r\n        setGameBounds({x: x, y: y, width: width, height: height});\r\n      }\r\n\r\n      if (JSON.stringify(props.gameBounds) !== JSON.stringify(gamebounds))\r\n        calculateHitBox();\r\n  \r\n    }, [collectibleRef, percentagePos.x, percentagePos.y, props.gameBounds, gamebounds]);\r\n\r\n    // Collectible spawn\r\n    props.socket.on('collectible-spawn', (pos) => {\r\n        setPercentagePos({\r\n          x: pos.x,\r\n          y: pos.y,\r\n        })\r\n        setActivated(true);\r\n    })\r\n\r\n    props.socket.on('collectible-touched', () => {\r\n      setActivated(true);\r\n    });\r\n\r\n\r\n    // Set Responsive position\r\n    useEffect(() => {\r\n        setPercentagePos({\r\n          x : (position.x / gamebounds.width) * 100,\r\n          y : (position.y / gamebounds.height) * 100\r\n        })\r\n    }, [position.x, position.y, gamebounds.width, gamebounds.height])\r\n    \r\n    return (\r\n        <CollectibleDiv ref={collectibleRef} x={percentagePos.x} y={percentagePos.y}>\r\n          <CollectibleDivImg src={collectibleImg}></CollectibleDivImg>\r\n          </CollectibleDiv>\r\n    );\r\n}\r\n\r\nconst CollectibleDivImg = styled.img`\r\nwidth: 100%;\r\nheight: 100%;\r\n`;\r\n\r\nconst CollectibleDiv = styled.div.attrs(props => ({\r\n    style: {\r\n        width: `4%`,\r\n        height: `5%`,\r\n        left: `${props.x}%`,\r\n        top: `${props.y}%`,\r\n    }\r\n    }))`\r\n    position: absolute;\r\n    `;\r\n    \r\nexport default Collectible;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}